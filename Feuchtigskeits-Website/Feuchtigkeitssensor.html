<html>

<head>
	<meta charset="UTF-8">
	<meta name="description" content="automatic plant watering controllcenter">
	<meta name="keywords" content="mqtt, watering, javascript">
	<meta name="author" content="Felix Wild">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel = "icon" href = "favicon.ico" type = "image/x-icon" />
	<link rel = "shortcut icon" href = "favicon.ico" type = "image/x-icon" />
	
	<title>Feuchtigkeitssensor</title>

	
	<!-- jgPlot für Diagramme -->
		<script language="javascript" type="text/javascript" src="jqplot/jquery.min.js"></script>
		<script language="javascript" type="text/javascript" src="jqplot/jquery.jqplot.min.js"></script>
		<!-- For rotation axis -->
			<script type="text/javascript" src="jqplot/jquery.jqplot.js"></script>
			<script type="text/javascript" src="jqplot/plugins/jqplot.logAxisRenderer.js"></script>
			<script type="text/javascript" src="jqplot/plugins/jqplot.canvasTextRenderer.js"></script>
			<script type="text/javascript" src="jqplot/plugins/jqplot.canvasAxisLabelRenderer.js"></script>
			<script type="text/javascript" src="jqplot/plugins/jqplot.canvasAxisTickRenderer.js"></script>
			<script type="text/javascript" src="jqplot/plugins/jqplot.dateAxisRenderer.js"></script>
			<script type="text/javascript" src="jqplot/plugins/jqplot.categoryAxisRenderer.js"></script>
			<script type="text/javascript" src="jqplot/plugins/jqplot.barRenderer.js"></script>
			<script type="text/javascript" src="jqplot/plugins/jqplot.highlighter.js"></script>
			<script type="text/javascript" src="jqplot/plugins/jqplot.cursor.js"></script>
		
		<link rel="stylesheet" type="text/css" href="jqplot/jquery.jqplot.css" />
	<!-- MQTT Websocket -->
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.2/mqttws31.js"></script>

	
	<!-- own js functions -->
		<script type="text/javascript" src="water.js"></script>
	<!-- Diagramme js -->
		<script type="text/javascript" src="diagramms.js"></script>
	<!-- own MQTT Messaging -->
		<script type="text/javascript" src="mqtt_custom.js"></script>
	<!-- own Stylesheet -->
		<link class="include" rel="stylesheet" type="text/css" href="stylesheet.css">
		
	<!-- create Database 
	$db = new SQLite3(DB_FILENAME); -->

</head>

<body>

	<img class="flip" src="images/flower.png" alt="Flowers" style="width: 12%; height: auto;" align="left">
	<img style="width: 12%; height: auto;" alt="Flowers" src="images/flower.png" align="right">
	<h1>Wet these Flowers</h1>

	<table border="1" cellpadding="10" cellspacing="2">
		<tbody>
			<tr>
				<td colspan="2" rowspan="1" style="vertical-align: top; text-align: center;">Reiner</td>
				<!-- <td colspan="2" rowspan="1" style="vertical-align: top; text-align: center;">Pflanze 2      </td> -->
			</tr>
			<tr>
				<td style="vertical-align: top;">Signal							</td>
				<td style="vertical-align: top;"><span id="P1_Sig">???</span>	</td>
				<!-- <td style="vertical-align: top; text-align: left;">Signal		</td>
				<td style="vertical-align: top;"><span id="P2_Sig">???</span>	</td> -->
			</tr>
			<tr>
				<td style="vertical-align: top;">Temp							</td>
				<td style="vertical-align: top;"><span id="P1_Temp">???</span>	</td>
				<!-- <td style="vertical-align: top;">Temp							</td>
				<td style="vertical-align: top;"><span id="P2_Temp">???</span>	</td> -->
			</tr>
			<tr>
				<td style="vertical-align: top;">Feuchtigkeit					</td>
				<td style="vertical-align: top;"><span id="P1_Hum">???</span>	</td>
				<!-- <td style="vertical-align: top;">Feuchtigkeit					</td>
				<td style="vertical-align: top;"><span id="P2_Hum">???</span>	</td> -->
			</tr>
			<tr>
				<td style="vertical-align: top;">Bewaesserung in s					</td>
				<td style="vertical-align: top;"><span id="P1_WaterTime">???</span>	</td>
				<!-- <td style="vertical-align: top;">Bewässerungszeit (Heute)					</td>
				<td style="vertical-align: top;"><span id="P2_WaterTime">???</span>	</td> -->
			</tr>
		</tbody>
	</table>
	
	<form id="water">
		<label>Zeit:
			<select name="watertime" id="watertime">
				<option value=5>5s</option>
				<option value=10>10s</option>
				<option value=30>30s</option>
				<option value=60>60s</option>
			</select>
		</label>
		<br>
		<button type="button" id="water_btn">Starte Pumpe</button>
	</form>
	<script>document.querySelector('#water_btn').addEventListener('click', startWater);</script>
	
	<br><br>
	<div style="width: 100%; height: auto;" align="left" id="P1_Diag"></div>
	<br><br><br>
	<div style="width: 100%; height: auto;" align="left" id="P2_Diag"></div>
	<br><br><br><br>
	

	<div class="Status_Left"> <b>Latest MQTT message: </b> <small id="message">no message recieved</small> </div>

	<div class="Status_Right"> <b>Status: </b> <small id="status">not connected</small> <small id="topic">no topic</small></div>

	<div class="footer"><span style="font-family: Arial,Helvetica,sans-serif;">@</span> Felix Wild 2020</div>

</body></html>